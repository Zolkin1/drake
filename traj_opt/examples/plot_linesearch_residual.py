#!/usr/bin/env python

##
#
# Quick script to make a plot of linesearch residuals
# that we printed out from the console.
#
##

import numpy as np
import matplotlib.pyplot as plt

# Copy-pasted from PrintLinesearchResidual output
residuals = [
2.22045e-16, 3.33067e-16, 4.44089e-16, 3.33067e-16, 2.22045e-16, 3.33067e-16,
1.11022e-16, 1.11022e-16, 1.11022e-16, 5.55112e-16, 0, 0, 3.33067e-16, 0,
4.44089e-16, 0, 3.33067e-16, 5.55112e-16, -1.11022e-16, 2.22045e-16, 0,
-1.11022e-16, 0, 6.66134e-16, 4.44089e-16, -1.11022e-16, 4.44089e-16,
-1.11022e-16, -1.11022e-16, 4.44089e-16, -1.11022e-16, 0, 1.11022e-16,
3.33067e-16, 3.33067e-16, 1.11022e-16, 3.33067e-16, 0, 5.55112e-16,
-1.11022e-16, 0, 0, -2.22045e-16, 3.33067e-16, 2.22045e-16, -2.22045e-16,
1.11022e-16, 1.11022e-16, -1.11022e-16, 0, 0, 2.22045e-16, 3.33067e-16,
2.22045e-16, -1.11022e-16, 2.22045e-16, 0, -2.22045e-16, 1.11022e-16,
-1.11022e-16, 0, 1.11022e-16, 1.11022e-16, -2.22045e-16, 6.66134e-16,
2.22045e-16, 3.33067e-16, 1.11022e-16, -3.33067e-16, -1.11022e-16, 0, 0,
2.22045e-16, -2.22045e-16, -1.11022e-16, 2.22045e-16, 0, 5.55112e-16,
1.11022e-16, 1.11022e-16, 0, 0, 4.44089e-16, 2.22045e-16, -1.11022e-16,
-1.11022e-16, 0, 0, 1.11022e-16, -1.11022e-16, -3.33067e-16, 1.11022e-16,
3.33067e-16, -1.11022e-16, -1.11022e-16, -3.33067e-16, -3.33067e-16,
1.11022e-16, 1.11022e-16, -1.11022e-16, 0, 4.44089e-16, 1.11022e-16,
-1.11022e-16, -3.33067e-16, 0, -1.11022e-16, -2.22045e-16, -3.33067e-16, 0, 0,
-2.22045e-16, -2.22045e-16, 1.11022e-16, 1.11022e-16, 0, 1.11022e-16, 0,
4.44089e-16, -1.11022e-16, 1.11022e-16, -3.33067e-16, 0, 2.22045e-16,
2.22045e-16, 1.11022e-16, -2.22045e-16, 7.77156e-16, 0, 2.22045e-16, 0,
-2.22045e-16, 4.44089e-16, 4.44089e-16, 0, 0, -1.11022e-16, 1.11022e-16,
2.22045e-16, 5.55112e-16, -1.11022e-16, 0, 1.11022e-16, -4.44089e-16,
1.11022e-16, 3.33067e-16, 4.44089e-16, 1.11022e-16, -1.11022e-16, 0,
-3.33067e-16, -3.33067e-16, 1.11022e-16, -1.11022e-16, 0, -1.11022e-16, 0,
-5.55112e-16, -1.11022e-16, -6.66134e-16, 5.55112e-16, 4.44089e-16, 4.44089e-16,
1.11022e-16, 3.33067e-16, 4.44089e-16, 0, 4.44089e-16, 1.11022e-16, 2.22045e-16,
0, 3.33067e-16, 2.22045e-16, 3.33067e-16, 2.22045e-16, 3.33067e-16, 3.33067e-16,
5.55112e-16, -2.22045e-16, 2.22045e-16, 4.44089e-16, -3.33067e-16, 3.33067e-16,
4.44089e-16, 3.33067e-16, 1.11022e-16, 0, 1.11022e-16, -1.11022e-16,
4.44089e-16, 3.33067e-16, 2.22045e-16, -1.11022e-16, 4.44089e-16, 8.88178e-16,
1.11022e-16, 2.22045e-16, 3.33067e-16, 2.22045e-16, 3.33067e-16]

alpha = np.linspace(-1,1,len(residuals))

plt.plot(alpha, residuals)
plt.xlabel(r"Linesearch Parameter $\alpha$")
plt.ylabel(r"Linesearch Residual $L(q+\alpha\Delta q) - L(q)$")

plt.show()

