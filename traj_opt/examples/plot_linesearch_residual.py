#!/usr/bin/env python

##
#
# Quick script to make a plot of linesearch residuals
# that we printed out from the console.
#
##

import numpy as np
import matplotlib.pyplot as plt

# Copy-pasted from PrintLinesearchResidual output
residuals = [
        0, -3.32161e-11, -6.63967e-11, -9.95612e-11, -1.32729e-10, -1.65864e-10,
        -1.98987e-10, -2.32099e-10, -2.65199e-10, -2.98273e-10, -3.31335e-10,
        -3.64381e-10, -3.97414e-10, -4.30431e-10, -4.63434e-10, -4.96412e-10,
        -5.29376e-10, -5.62331e-10, -5.9527e-10, -6.2818e-10, -6.61093e-10,
        -6.93987e-10, -7.2686e-10, -7.59716e-10, -7.92566e-10, -8.25391e-10,
        -8.58197e-10, -8.90989e-10, -9.23775e-10, -9.5654e-10, -9.89285e-10,
        -1.02202e-09, -1.05473e-09, -1.08744e-09, -1.12012e-09, -1.15279e-09,
        -1.18545e-09, -1.21809e-09, -1.25072e-09, -1.28333e-09, -1.31591e-09,
        -1.34849e-09, -1.38105e-09, -1.41359e-09, -1.44612e-09, -1.47864e-09,
        -1.51113e-09, -1.54362e-09, -1.57608e-09, -1.60853e-09, -1.64096e-09,
        -1.67338e-09, -1.70579e-09, -1.73818e-09, -1.77055e-09, -1.80292e-09,
        -1.83525e-09, -1.86757e-09, -1.89988e-09, -1.93217e-09, -1.96446e-09,
        -1.99671e-09, -2.02897e-09, -2.0612e-09, -2.09341e-09, -2.12561e-09,
        -2.1578e-09, -2.18996e-09, -2.22211e-09, -2.25425e-09, -2.28637e-09,
        -2.31848e-09, -2.35057e-09, -2.38264e-09, -2.4147e-09, -2.44675e-09,
        -2.47877e-09, -2.51078e-09, -2.54278e-09, -2.57476e-09, -2.60673e-09,
        -2.63867e-09, -2.67061e-09, -2.70252e-09, -2.73443e-09, -2.7663e-09,
        -2.79818e-09, -2.83003e-09, -2.86187e-09, -2.89371e-09, -2.9255e-09,
        -2.95731e-09, -2.98907e-09, -3.02083e-09, -3.05258e-09, -3.08431e-09,
        -3.11602e-09, -3.14772e-09, -3.1794e-09, -3.21107e-09, -3.24273e-09,
        -3.27436e-09, -3.30598e-09, -3.33758e-09, -3.36916e-09, -3.40074e-09,
        -3.43229e-09, -3.46384e-09, -3.49536e-09, -3.52687e-09, -3.55837e-09,
        -3.58986e-09, -3.62131e-09, -3.65275e-09, -3.68419e-09, -3.7156e-09,
        -3.74699e-09, -3.77838e-09, -3.80975e-09, -3.84111e-09, -3.87244e-09,
        -3.90377e-09, -3.93507e-09, -3.96637e-09, -3.99763e-09, -4.02889e-09,
        -4.06015e-09, -4.09137e-09, -4.12258e-09, -4.15378e-09, -4.18495e-09,
        -4.21612e-09, -4.24726e-09, -4.2784e-09, -4.30951e-09, -4.34062e-09,
        -4.3717e-09, -4.40277e-09, -4.43382e-09, -4.46487e-09, -4.49589e-09,
        -4.5269e-09, -4.55789e-09, -4.58887e-09, -4.61983e-09, -4.65077e-09,
        -4.68171e-09, -4.71262e-09, -4.74351e-09, -4.77439e-09, -4.80526e-09,
        -4.83612e-09, -4.86695e-09, -4.89777e-09, -4.92857e-09, -4.95936e-09,
        -4.99013e-09, -5.02089e-09, -5.05164e-09, -5.08235e-09, -5.11307e-09,
        -5.14375e-09, -5.17444e-09, -5.20511e-09, -5.23575e-09, -5.26638e-09,
        -5.297e-09, -5.32759e-09, -5.35819e-09, -5.38876e-09, -5.41931e-09,
        -5.44983e-09, -5.48035e-09, -5.51087e-09, -5.54136e-09, -5.57183e-09,
        -5.60229e-09, -5.63274e-09, -5.66316e-09, -5.69357e-09, -5.72397e-09,
        -5.75434e-09, -5.78473e-09, -5.81507e-09, -5.8454e-09, -5.87572e-09,
        -5.90602e-09, -5.9363e-09, -5.96657e-09, -5.99683e-09, -6.02707e-09,
        -6.05729e-09, -6.0875e-09, -6.11769e-09, -6.14787e-09, -6.17804e-09,
        -6.20818e-09, -6.23831e-09, -6.26842e-09, -6.29852e-09, -6.3286e-09,
        -6.35866e-09, -6.38871e-09, -6.41875e-09, -6.44877e-09, -6.47879e-09,
        -6.50876e-09, -6.53874e-09, -6.5687e-09, -6.59863e-09, -6.62856e-09,
        -6.65848e-09, -6.68836e-09, -6.71825e-09, -6.74811e-09, -6.77795e-09,
        -6.80779e-09, -6.8376e-09, -6.8674e-09, -6.89719e-09, -6.92696e-09,
        -6.9567e-09, -6.98644e-09, -7.01617e-09, -7.04587e-09, -7.07557e-09,
        -7.10524e-09, -7.1349e-09, -7.16453e-09, -7.19417e-09, -7.22378e-09,
        -7.25338e-09, -7.28296e-09, -7.31253e-09, -7.34207e-09, -7.37161e-09,
        -7.40112e-09, -7.43062e-09, -7.46011e-09, -7.48958e-09, -7.51903e-09,
        -7.54848e-09, -7.5779e-09, -7.60731e-09, -7.6367e-09, -7.66608e-09,
        -7.69544e-09, -7.72479e-09, -7.75411e-09, -7.78343e-09, -7.81273e-09,
-7.84201e-09, -7.87127e-09, -7.90053e-09, -7.92976e-09, -7.95898e-09,
-7.98818e-09, -8.01738e-09, -8.04655e-09, -8.0757e-09, -8.10484e-09,
-8.13398e-09, -8.16309e-09, -8.19217e-09, -8.22126e-09, -8.25032e-09,
-8.27937e-09, -8.3084e-09, -8.33742e-09, -8.36641e-09, -8.39539e-09,
-8.42437e-09, -8.45332e-09, -8.48226e-09, -8.51118e-09, -8.54009e-09,
-8.56898e-09, -8.59785e-09, -8.62671e-09, -8.65555e-09, -8.68438e-09,
-8.71319e-09, -8.74199e-09, -8.77077e-09, -8.79954e-09, -8.82829e-09,
-8.85702e-09, -8.88574e-09, -8.91444e-09, -8.94313e-09, -8.9718e-09,
-9.00045e-09, -9.02909e-09, -9.05771e-09, -9.08633e-09, -9.11491e-09,
-9.14349e-09, -9.17206e-09, -9.2006e-09, -9.22913e-09, -9.25764e-09,
-9.28615e-09, -9.31463e-09, -9.34309e-09, -9.37155e-09, -9.39998e-09,
-9.4284e-09, -9.45681e-09, -9.48519e-09, -9.51357e-09, -9.54193e-09,
-9.57027e-09, -9.59859e-09, -9.6269e-09, -9.65519e-09, -9.68348e-09,
-9.71174e-09, -9.73998e-09, -9.76822e-09, -9.79643e-09, -9.82463e-09,
-9.85282e-09, -9.88098e-09, -9.90914e-09, -9.93727e-09, -9.96539e-09,
-9.9935e-09, -1.00216e-08, -1.00497e-08, -1.00777e-08, -1.01058e-08,
-1.01338e-08, -1.01618e-08, -1.01898e-08, -1.02178e-08, -1.02458e-08,
-1.02737e-08, -1.03017e-08, -1.03296e-08, -1.03575e-08, -1.03854e-08,
-1.04132e-08, -1.04411e-08, -1.04689e-08, -1.04967e-08, -1.05246e-08,
-1.05523e-08, -1.05801e-08, -1.06079e-08, -1.06356e-08, -1.06634e-08,
-1.06911e-08, -1.07188e-08, -1.07464e-08, -1.07741e-08, -1.08018e-08,
-1.08294e-08, -1.0857e-08, -1.08846e-08, -1.09122e-08, -1.09398e-08,
-1.09673e-08, -1.09949e-08, -1.10224e-08, -1.10499e-08, -1.10774e-08,
-1.11049e-08, -1.11324e-08, -1.11598e-08, -1.11872e-08, -1.12147e-08,
-1.12421e-08, -1.12695e-08, -1.12968e-08, -1.13242e-08, -1.13515e-08,
-1.13788e-08, -1.14061e-08, -1.14334e-08, -1.14607e-08, -1.1488e-08,
-1.15152e-08, -1.15424e-08, -1.15696e-08, -1.15968e-08, -1.1624e-08,
-1.16512e-08, -1.16783e-08, -1.17055e-08, -1.17326e-08, -1.17597e-08,
-1.17868e-08, -1.18139e-08, -1.18409e-08, -1.1868e-08, -1.1895e-08, -1.1922e-08,
-1.1949e-08, -1.1976e-08, -1.20029e-08, -1.20299e-08, -1.20568e-08,
-1.20837e-08, -1.21106e-08, -1.21375e-08, -1.21644e-08, -1.21912e-08,
-1.2218e-08, -1.22449e-08, -1.22717e-08, -1.22985e-08, -1.23252e-08,
-1.2352e-08, -1.23787e-08, -1.24055e-08, -1.24322e-08, -1.24589e-08,
-1.24855e-08, -1.25122e-08, -1.25389e-08, -1.25655e-08, -1.25921e-08,
-1.26187e-08, -1.26453e-08, -1.26719e-08, -1.26984e-08, -1.27249e-08,
-1.27515e-08, -1.2778e-08, -1.28045e-08, -1.2831e-08, -1.28574e-08,
-1.28839e-08, -1.29103e-08, -1.29367e-08, -1.29631e-08, -1.29895e-08,
-1.30158e-08, -1.30422e-08, -1.30685e-08, -1.30948e-08, -1.31211e-08,
-1.31474e-08, -1.31737e-08, -1.32e-08, -1.32262e-08, -1.32524e-08, -1.32786e-08,
-1.33048e-08, -1.3331e-08, -1.33572e-08, -1.33833e-08, -1.34094e-08,
-1.34355e-08, -1.34617e-08, -1.34877e-08, -1.35138e-08, -1.35398e-08,
-1.35659e-08, -1.35919e-08, -1.36179e-08, -1.36439e-08, -1.36699e-08,
-1.36958e-08, -1.37218e-08, -1.37477e-08, -1.37736e-08, -1.37995e-08,
-1.38254e-08, -1.38513e-08, -1.38771e-08, -1.39029e-08, -1.39287e-08,
-1.39545e-08, -1.39803e-08, -1.40061e-08, -1.40319e-08, -1.40576e-08,
-1.40833e-08, -1.4109e-08, -1.41347e-08, -1.41604e-08, -1.41861e-08,
-1.42117e-08, -1.42373e-08, -1.42629e-08, -1.42885e-08, -1.43141e-08,
-1.43397e-08, -1.43652e-08, -1.43908e-08, -1.44163e-08, -1.44418e-08,
-1.44673e-08, -1.44928e-08, -1.45182e-08, -1.45436e-08, -1.45691e-08,
-1.45945e-08, -1.46199e-08, -1.46453e-08]


alpha = np.linspace(0,5,len(residuals))

plt.plot(alpha, residuals)
plt.xlabel(r"Linesearch Parameter $\alpha$")
plt.ylabel(r"Linesearch Residual $L(q+\alpha\Delta q) - L(q)$")

plt.show()

